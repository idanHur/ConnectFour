@page
@model Server.Pages.Players.MainViewModel

@{
    Layout = "_Layout";
}

<div class="container mt-3">
    <h1>Player Data Viewer</h1>

    <div class="form-group">
        <label for="selectData">Select Data</label>
        <select class="form-control" id="selectData">
            <option value="">Select Data</option>
            <option value="AllPlayers">All Players</option>
            <option value="SortByName">Sort By Name</option>
            <option value="SortByNameAndGameDateDescending">Sort By Name and Game Date Descending</option>
            <option value="AllGames">All Games</option>
            <option value="PlayerGameCounts">Player Game Counts</option>
            <option value="PlayersSortedByGameCount">Players Sorted By Game Count</option>
        </select>
    </div>

    <div id="dataContainer" class="mt-3">
        <!-- The "AllPlayers" partial view will be loaded here dynamically -->
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function () {
            $('#selectData').on('change', function () {
                var url = '/api/Players/' + $(this).val();
                $('#dataContainer').load(url);
            });

            // Trigger the change event for the dropdown when the page loads
            $('#selectData').val('AllPlayers').trigger('change');
        });
    </script>
}
